<!doctype html>
<html lang="en">
<head>
  <title> DataLad </title>
  <meta name="description" content=" DataLad - Decentralized Management of Digital Objects for Open Science ">
  <meta name="author" content=" Adina S. Wagner ">

  <meta charset="utf-8">
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../css/main.css" id="theme">
  <script src="../js/printpdf.js"></script>
</head>
<body>

<div class="reveal">
<div class="slides">


<section>
<section>
<table style="border:none">
    <tr>
        <td><img style="height:150px;margin-bottom:30px" data-src="../pics/datalad_logo_wide.svg">
        </td>
        <td>
            <h3>
    Decentralized Management <br>of Digital Objects for Open Science</h3>
        </td>
    </tr>
</table>


  <div style="margin-top:1em;text-align:center">
  <table style="border: none;">
  <tr>
	<td>Adina Wagner
	  <br><small>
		<a href="https://twitter.com/AdinaKrik" target="_blank">
		  <img data-src="../pics/twitter.png" style="height:30px;margin:0px" />
		  @AdinaKrik</a></small></td>
  </tr>
  <tr>
    <td>
        <small><a href="http://psychoinformatics.de" target="_blank">Psychoinformatics lab</a>,
          <br> Institute of Neuroscience and
          Medicine, Brain &amp; Behavior (INM-7)<br>
       Research Center Jülich</small><br>
    </td>
      <td></td>
          <td><img style="height:70px;margin-right:10px" data-src="../pics/fzj_logo.svg" />
	  <br></td>
  </tr>
  </table>
  </div>
<br><br>
    <div>
        <table>
            <tr>
                <td><img style="width:280px;margin-bottom:0px" src="../pics/dc2020.svg"></td>
                <td><span class="rainbow">Debian in Arts & Science</span></td>
            </tr> </table>
    </div>
    <small>
    Slides: <a href="https://github.com/datalad-handbook/course/blob/master/talks/PDFs/debconf_datalad.pdf" target="_blank">
    https://github.com/datalad-handbook/course/</a></small></a>

</section>

<section>
  <h2>Acknowledgements</h2>
  <table>
  <tr style="vertical-align:middle">
    <td style="vertical-align:middle">
      <dl>
        <dt>Software</dt>
        <dd style="margin-left:5px!important">
          <ul style="margin-left:5px!important">
              <li>Michael Hanke</li>
              <li>Yaroslav Halchenko</li>
              <li>Joey Hess (git-annex)</li>
              <li>Kyle Meyer</li>
              <li>Benjamin Poldrack</li>
              <li><em>26 additional contributors</em></li>
          </ul>
        </dd>
        <dt style="margin-top:20px">Documentation project </dt>
        <dd style="margin-left:5px!important">
          <ul style="margin-left:5px!important">
              <li>Michael Hanke</li>
              <li>Laura Waite</li>
              <li><em>28 additional contributors</em></li>
          </ul>
        </dd>
      </dl>
    </td>
    <td style="vertical-align:middle">
  <div style="margin-bottom:-20px;text-align:center"><strong>Funders</strong></div>
  <img style="height:150px;margin-right:50px" data-src="../pics/nsf.png" />
  <img style="height:150px;margin-right:50pxi;margin-left:50px" data-src="../pics/binc.png" />
  <img style="height:150px;margin-left:50px" data-src="../pics/bmbf.png" />
  <br />
  <img style="height:80px;margin-top:-40px;margin-left:auto;margin-right:auto;width:100%" data-src="../pics/fzj_logo.svg" />
  <div style="margin-top:-20px">
  <img style="height:60px;margin-right:20px" data-src="../pics/erdf.png" />
  <img style="height:60px;margin-right:20px" data-src="../pics/cbbs_logo.png" />
  <img style="height:60px" data-src="../pics/LSA-Logo.png" />
  </div>
  <div style="margin-top:40px;margin-bottom:20px;text-align:center"><strong>Collaborators</strong></div>
  <div style="margin-top:-20px">
  <img style="height:100px;margin:20px" data-src="../pics/hbp_logo.png" />
  <img style="height:100px;margin:20px" data-src="../pics/conp_logo.png" />
  <img style="height:100px;margin:20px" data-src="../pics/vbc_logo.png" />
  </div>
  <div style="margin-top:-40px">
  <img style="height:120px;margin:20px" data-src="../pics/openneuro_logo.png" />
  <img style="height:120px;margin:20px" data-src="../pics/cbrain_logo.png" />
  <img style="height:140px;margin:20px" data-src="../pics/brainlife_logo.png" />
  </div>
  </td>
  </tr>
  </table>
</section>
</section>

    <!-- INTRODUCTION -->

<section>
<section data-transition="none">
    <h3>Perks of being a (neuro)scientist...</h3>
    <p class="fragment fade-in" data-fragment-index="1">A growing culture of open data
    <img src="../pics/opendata.gif">  <imgcredit>https://en.wikipedia.org/wiki/List_of_neuroscience_databases</imgcredit></p>
</section>

<section data-transition="none">
    <h3>Perks of being a (neuro)scientist...</h3>
    <p>... with many open dataset of several TB of data!
    <img src="../pics/bigneurodata.png">
        <img src="../pics/bigneurodata2.png"> </p>
</section>

<section data-transition="none">
    <h3>Perks of being a (neuro)scientist...</h3>
    <p> A large and growing amount of open source software
      <table>
  <tr style="vertical-align:middle">
    <td style="vertical-align:middle">
  <img style="height:150px;margin-right:50px" data-src="../pics/neurodebian.png" />
  <img style="height:150px;margin-right:50px" data-src="../pics/jupyter_logo.png" />
  <img style=height:150px;margin-left:50px" data-src="../pics/mindboggle_logo.png" />
  <img style="height:150px;margin-left:50px" data-src="../pics/pymvpa_logo.png" />
  <img style="height:150px;margin-left:50px" data-src="../pics/fsl_logo.png" />
  <br />

  <div style="margin-top:-20px">
  <img style="height:150px;margin-left:50px" data-src="../pics/psychopy_logo.png" />
  <img style="height:150px;margin-left:50px" data-src="../pics/R_logo.png" />
  <img style="height:150px;margin-left:50px" data-src="../pics/rstudio-logo.png" />
  <img style="height:150px;margin-left:50px" data-src="../pics/pydra_logo.png" />
  <img style="height:150px;margin-left:50px" data-src="../pics/sklearn_logo.png" />
  <img style="height:150px;margin-left:50px" data-src="../pics/FSlogo.png" />
  </div>
  <div style="margin-top:-20px">
  <img style="height:150px;margin-left:50px" data-src="../pics/pysurfer_logo.png" />
  <img style="height:100px;margin:20px" data-src="../pics/nilearn-logo.png" />
  <img style="height:100px;margin:20px" data-src="../pics/ants_logo.png" />
  <img style="height:100px;margin:20px" data-src="../pics/afni_logo.png" />
  </div>
  <div style="margin-top:-40px">
  <img style="height:120px;margin:20px" data-src="../pics/brainiak_logo.svg" />
  <img style="height:120px;margin:20px" data-src="../pics/spm.svg" />
  <img style="height:140px;margin:20px" data-src="../pics/cpac_logo.png" />
      <img style="height:140px;margin:20px" data-src="../pics/fieldtrip_logo.png" /> <br><small>... and many more!</small>
  </div>
  </td>
  </tr>
  </table>
 </p>
</section>


<section data-transition="none">
    <h3>Perks of being a (neuro)scientist...</h3>
    <p>Many readily available, often free, sometimes FOSS, services for data storage and collaboration<br>
        <img src="../pics/services_only.png" height="750"> <imgcredit>https://www.incf.org/resources/sbps</imgcredit>
     </p>
</section>

<section data-transition="none">
    <h3>Perks of being a (neuro)scientist...</h3>
    <p>Coordinated efforts towards common standards
        <img src="../pics/incf_standards.png"> <imgcredit>https://www.incf.org/resources/sbps</imgcredit>
     </p>
</section>


<section data-transition="none">
    <h3>Perks of being a (neuro)scientist...</h3>
    <p>We can work on questions targeting <br>
        treatments for mental and neural illness <br>
        <img src="../pics/brainscan.gif"> <imgcredit>Dwayne Reed; https://commons.wikimedia.org/wiki/File:Parasagittal_MRI_of_human_head_in_patient_with_benign_familial_macrocephaly_prior_to_brain_injury_(ANIMATED).gif</imgcredit>
     </p>
</section>


<section data-markdown><script type="text/template">
    <h3>The good news, the bad news</h3>
    <table>
        <tr style="vertical-align:middle"></tr>
        <tr>
            <td class="fragment fade-in-then-semi-out" data-fragment-index="1">Many large, sometimes gigantic, open datasets</td>
            <td class="fragment fade-in" data-fragment-index="2">Lack of data management skills, & datasets overstraining clusters</td>
        </tr>
        <tr>
            <td class="fragment fade-in-then-semi-out" data-fragment-index="3">Fantastic open source analysis software, & a broad range of methods</td>
            <td class="fragment fade-in" data-fragment-index="4">Reproducibility is threatened by unstable results across versions¹ & intransparent, multi-stepped analyses</td>
        </tr>
        <tr>
            <td class="fragment fade-in-then-semi-out" data-fragment-index="5">An ecosystem of services and tools that foster open science & collaboration</td>
            <td class="fragment fade-in" data-fragment-index="6">Few generic or interoperable workflows across institutes, much rather isolated solutions</td>
        </tr>
        <tr>
            <td class="fragment fade-in-then-semi-out" data-fragment-index="7">Standards towards consistent file organization, description, and interoperability </td>
            <td class="fragment fade-in" data-fragment-index="8">Standards aren't static and evolve over time, thus tools and data need updates</td>
        </tr>
        <tr>
            <td class="fragment fade-in-then-semi-out" data-fragment-index="9">Invaluable, interesting patient data</td>
            <td class="fragment fade-in">... that's sparse & subject to strict data protection, making sharing difficult</td>
        </tr>
    </table>

    <div class="fragment fade-in-then-semi-out" data-fragment-index="4" align="left">
        ¹ <small> <a href="https://doi.org/10.1177%2F1094342020926237" target="_blank"> Kiar et al., 2020</a>
    </small>
    </div>

<aside class="notes">
  - Life is no picnic though
  - many of these problems surface in science, but underlying general principle
    difficulties also exist for software and are solved, for example software
    packing, distribution, and updates
</aside>
</script>
</section>
</section>


<!-- General datalad functions -->
<section>
<section data-markdown><script type="text/template">
## DataLad

- Joint management of data/code through their entire life cycle

  - Version control
  - Transport logistics
  - Interoperability
  - Provenance capture

- Built on top of Git and [git-annex](https://git-annex.branchable.com/) (Joey Hess)
- Free and open source Python software (MIT licence)

- Python API and command line interface

</script>
<aside class="notes">
  - modular management
  - data provenance
  - discoverability
</aside>
</section>

<section data-transition="None">
    <h2>Version Control</h2>

    <ul>
        <li>DataLad knows two things: Datasets and files</li>
        <li>A DataLad dataset is a Git repository</li>
            <img style="box-shadow: 5px 5px 3px #888888" src="../pics/artwork/src/dataset.svg" height="330"><img style="box-shadow: 5px 5px 3px #888888"  height="330" src="../pics/artwork/src/collaboration.svg">
    </ul>
</section>

<section data-transition="None">
    <h2>Version Control</h2>

    <ul>
        <li>Datasets can have an optional annex for (large) data.
            For annex'ed files, identity (hash) and location information is put
            into Git, rather than their content.</li>
        <li>Simplified local version control </li>
    </ul>
                <img height="330" class="fragment fade-in" src="../pics/artwork/src/local_wf.svg">
</section>


<section data-transition="None">
    <h2>Version Control</h2>

    <ul>
        <li>Scaling issues with large amounts of files are overcome by
            seamless nesting mechanisms (super-dataset - sub-dataset relationships), based on
            Git submodules</li>
    </ul>
    <img height="330"  src="../pics/artwork/src/linkage_subds.svg">

    <pre><code>adina@bulk1 in /ds/hcp/super on git:master
❱ datalad status --annex all
TODO
    </code></pre>
    <aside class="notes">
        Two advantages:
        <ul>
            <li>Scalable, size-independent version control</li>
            <li>Modularization of research components to increase transparency
                and aid component reuse, as individual components can be flexibly
            puzzled together into new research objects</li>
        </ul>
    </aside>
</section>

<section data-transition="None">
    <h2>Transport logistics</h2>
    <ul>
        <li class="fragment fade-in-then-semi-out" data-fragment-index="1">Datasets can be cloned, pushed, and updated from and to local paths,
        remote hosting services, external special remotes</li>
        <li class="fragment fade-in-then-semi-out" data-fragment-index="1">Easy and generic procedures for...</li>
        <ul class="fragment fade-in-then-semi-out" data-fragment-index="1">
            <li>... data publication and updating</li>
            <li>... data consumption</li>
            <li>... collaboration</li>
            <li>... centralized data management</li>
        </ul>
        <li class="fragment fade-in">Disk-space aware workflows with git-annex's separation of
        file content and Git history: Cloned datasets are lean (only Git), and annexed contents can
        be retrieved & dropped on demand</li>
    </ul>
    <pre class="fragment fade-in-then-semi-out"><code>$ datalad clone git@github.com:datalad-datasets/machinelearning-books.git
install(ok): /tmp/machinelearning-books (dataset)
$ cd machinelearning-books && du -sh
348K	.</code></pre>
<pre class="fragment fade-in-then-semi-out"><code>$ datalad get A.Shashua-Introduction_to_Machine_Learning.pdf
get(ok): /tmp/machinelearning-books/A.Shashua-Introduction_to_Machine_Learning.pdf (file) [from web...]</code></pre>
<pre class="fragment fade-in-then-semi-out"><code>$ datalad drop A.Shashua-Introduction_to_Machine_Learning.pdf
drop(ok): /tmp/machinelearning-books/A.Shashua-Introduction_to_Machine_Learning.pdf (file) [checking https://arxiv.org/pdf/0904.3664v1.pdf...]</code></pre>

<aside class="notes">
Idea behind datalad: Enable a similar level of tooling and culture for the distribution and version control of data as it is present for open source software development
</aside>
</section>

<section data-transition="None">
    <h2>Interoperability</h2>
    <ul>
        <li>Minimize custom procedures and data structures (<b>users must not loose data or data access</b>,
            if DataLad would vanish), but maximize interoperability and use with established hosting and
            storage technology</li>
    </ul>
    <img class="fragment fade-in" src="../pics/services_only.png" height="650">
</section>

<section data-transition="None">
    <h2>Interoperability</h2>
    <ul>
        <li>Minimize custom procedures and data structures (<b>users must not loose data or data access</b>,
            if DataLad would vanish), but maximize interoperability and use with established hosting and
            storage technology</li>
    </ul>
    <img src="../pics/services_connected.png" height="650">
    <ul>
        <li  class="fragment fade-in"><b>Uncompromised decentralization</b>, no required central server or service.</li>
    </ul>
</section>

<section data-transition="None">
    <h2>Provenance capture</h2>
    <ul>
        <li>Datasets can track code, data and software - and associate it with
            transformations/computations and derived files/results, to track the
            entire evolution and lineage</li>
        <li>"How did this file came to be?",
            "What steps were undertaken to transform the raw data into the published result?"
        </li>
        <img src="../pics/w3cprov.png" width="550">
        <img align="right" src="../pics/linkage_subds.png" height="300">
    </ul>
</section>

<section data-transition="None">
    <h2>Provenance capture</h2>
    <ul>
        <li><b>Computational provenance</b>: DataLad can capture arbitrary dataset
            transformations (e.g., from computing analysis results) and record
            the cause of such a change
        </li>
            <pre><code class="bash" style="max-height:none">$ datalad run -m "Perform eye movement event detection"\
  --input 'raw_data/*.tsv.gz' --output 'sub-*' \
  bash code/compute_all.sh

-- Git commit -- Michael Hanke < ... @gmail.com>; Fri Sep 21 22:00:47 2019
    [DATALAD RUNCMD] Perform eye movement event detection
    === Do not change lines below ===
    {
     "cmd": "bash code/compute_all.sh",
     "dsid": "d2b4b72a-7c13-11e7-9f1f-a0369f7c647e",
     "exit": 0,
     "inputs": ["raw_data/*.tsv.gz"],
     "outputs": ["sub-*"],
     "pwd": "."
    }
    ^^^ Do not change lines above ^^^
---
 sub-01/sub-01_task-movie_run-1_events.png | 2 +-
 sub-01/sub-01_task-movie_run-1_events.tsv | 2 +-
...</code></pre>
    </ul>
</section>

<section data-transition="None">
    <h2>Provenance capture</h2>
    <ul>
        <li><b>Computational provenance</b>: Datasets can track <b>software containers</b>,
            and perform and record computations inside it:
        </li>
            <pre><code class="bash" style="max-height:none">$ datalad containers-run -n nilearn \
  --input 'mri/*_bold.nii --output 'sub-*/LC_timeseries_run-*.csv' \
  "bash -c 'for sub in sub-*; do for run in run-1 ... run-8;
     do python3 code/extract_lc_timeseries.py \$sub \$run; done; done'"

-- Git commit -- Michael Hanke < ... @gmail.com>; Fri Jul 6 11:02:28 2019
    [DATALAD RUNCMD] singularity exec --bind {pwd} .datalad/e...
    === Do not change lines below ===
    {
     "cmd": "singularity exec --bind {pwd} .datalad/environments/nilearn.simg bash..",
     "dsid": "92ea1faa-632a-11e8-af29-a0369f7c647e",
     "inputs": [
      "mri/*.bold.nii.gz",
      ".datalad/environments/nilearn.simg"
     ],
     "outputs": ["sub-*/LC_timeseries_run-*.csv"],
     ...
    }
    ^^^ Do not change lines above ^^^
---
 sub-01/LC_timeseries_run-1.csv | 1 +
...</code></pre>
    </ul>
</section>

<section data-transition="None">
    <h2>Provenance capture</h2>
    <ul>
         <li>All recorded transformations can be re-computed automatically</li>
            <pre><code class="bash" style="max-height:none">$ datalad rerun eee1356bb7e8f921174e404c6df6aadcc1f158f0
[INFO] == Command start (output follows) =====
[INFO] == Command exit (modification check follows) =====
add(ok): sub-01/LC_timeseries_run-1.csv (file)
...
save(ok): . (dataset)
action summary:
  add (ok: 45)
  save (notneeded: 45, ok: 1)
  unlock (notneeded: 45)
...</code></pre>

    <ul>
        <li>Aid with the reproducibility of a result and verify it (via content hash)</li>
        <li>Use complete capture and automatic re-computation as alternative to storage and transport</li>
</li></li>
    </ul>

    </ul>
</section>
</section>


<section>

<section data-markdown><script type="text/template">
## Scalable and Actionable (meta)data representations
![](../pics/metadata.png)<!-- .element: height="400" style="margin-top:-10px;margin-bottom:-30px" -->
- meta data logistics to generate, store, share, and search arbitrary meta data
- Sharing/retrieving only dataset meta data enables data discovery that doesn't require
  retrieving (potentially large) file contents first
- facilitates building metadata-driven applications


<aside class="notes">
- be able to: pick something that works now, and be able to transition
  to something better
- principle: programmatic (re-)extraction of metadata
- datalad provides metadata transport
</aside>
</script>
</section>

<section>
    <h2>Dealing with sensitive data</h2>
    <ul>
        <li>Share anonymized meta data not subject to privacy concerns
            </li>
        <li>Flexible data access management - file contents can be made available
            to none or selected few</li>
        <li>Viable solution to bring the computation to the data</li>
        <img src="../pics/artwork/src/hospital.png">
    </ul>
</section>
</section>

<section>
<section>
    <h2>Open science with DataLad</h2>
    As a researcher, DataLad helps me to
<ul>
    <li> obtain data and update it, if necessary</li>
    <li> link code, data, software, and execution</li>
    <li> share data and collaborate</li>
    <li> attach suitable meta data</li>
</ul>

    <a href="https://github.com/psychoinformatics-de/paper-remodnav/"> <img src="../pics/remodnavpaper.png">
    </a>
</section>
</section>

<section>
    <h2>Further Information</h2>
    <ul>
        <li>Source code: <a href="https://github.com/datalad/datalad">github.com/datalad/datalad</a> </li>
        <li>User documentation and use cases: <a href="https://handbook.datalad.org"> handbook.datalad.org</a></li>
        <li>Technical docs: <a href="https://docs.datalad.org">docs.datalad.org</a></li>
        <li>Video tutorials: <a href="https://www.youtube.com/channel/UCB8-Zf7D0DSzAsREoIt0Bvw">Youtube channel "DataLad"</a> </li>

    </ul>

</section>



</div> <!-- /.slides -->
</div> <!-- /.reveal -->

<script src="../reveal.js/js/reveal.js"></script>

<script>
  // Full list of configuration options available at:
  // https://github.com/hakimel/reveal.js#configuration
  Reveal.initialize({
    // The "normal" size of the presentation, aspect ratio will be preserved
    // when the presentation is scaled to fit different resolutions. Can be
    // specified using percentage units.
    width: 1280,
    height: 960,

    // Factor of the display size that should remain empty around the content
    margin: 0.1,

    // Bounds for smallest/largest possible scale to apply to content
    minScale: 0.2,
    maxScale: 1.0,

    controls: true,
    progress: true,
    history: true,
    center: true,

    transition: 'slide', // none/fade/slide/convex/concave/zoom

    // Optional reveal.js plugins
    dependencies: [
      { src: '../reveal.js/plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
      { src: '../reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: '../reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: '../reveal.js/plugin/zoom-js/zoom.js', async: true },
      { src: '../reveal.js/plugin/notes/notes.js', async: true }
    ]
  });
</script>
</body>
</html>
